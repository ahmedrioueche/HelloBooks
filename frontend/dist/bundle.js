(()=>{"use strict";var t,e,o,n,r={217:(t,e,o)=>{o.a(t,(async(t,e)=>{try{const o="http://localhost:8000/api/v1/hello-books",n=sessionStorage.getItem("username"),r=sessionStorage.getItem("email");function a(t){const e=document.querySelector(".product-container");t.forEach((t=>{const o=document.createElement("div");o.className="product-card";const r=document.createElement("img");r.src=t.product_img_src,r.className="product-image",o.appendChild(r);const a=document.createElement("div");a.className="product-name",a.textContent=t.product_name,o.appendChild(a);const c=document.createElement("div");c.className="product-price",c.textContent="$"+t.product_price,o.appendChild(c);const s=document.createElement("input");s.type="text",s.placeholder="Quantity",s.value=1,s.className="product-quantity-input",o.appendChild(s);const u=document.createElement("div");u.classList.add("product-notif");const i=document.createElement("button");i.textContent="Add To Cart",i.className="add-to-cart-button",i.addEventListener("click",(()=>{d(t,n,s.value)})),o.appendChild(i),e.appendChild(o)}))}async function c(){try{const t=await fetch(o+"/products/get-products");if(t)return await t.json();console.log("Couldnt get products")}catch(t){console.log(t)}}async function d(t,e,n,r){const a=t._id;if(await s(a,e))alert("Product already in cart");else try{await fetch(o+"/cart/add-product/"+a,{method:"POST",headers:{"Content-type":"application/JSON"},body:JSON.stringify({username:e,quantity:n})})&&alert("Product added to cart")}catch(t){console.log(t)}}async function s(t,e){try{const n=await fetch(o+"/cart/get-product/"+t+"/"+e);if(n)return!!await n.json()}catch(t){console.log(t)}}document.querySelector(".username").textContent="Username: "+n,document.querySelector(".email").textContent=r,document.querySelector(".logout-button").addEventListener("click",(()=>{window.location.href="login.html"})),a(await c()),setTimeout("preventBack()",0),window.onunload=function(){},e()}catch(u){e(u)}}),1)}},a={};function c(t){var e=a[t];if(void 0!==e)return e.exports;var o=a[t]={exports:{}};return r[t](o,o.exports,c),o.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",o="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},c.a=(r,a,c)=>{var d;c&&((d=[]).d=-1);var s,u,i,l=new Set,p=r.exports,m=new Promise(((t,e)=>{i=e,u=t}));m[e]=p,m[t]=t=>(d&&t(d),l.forEach(t),m.catch((t=>{}))),r.exports=m,a((r=>{var a;s=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[t])return r;if(r.then){var a=[];a.d=0,r.then((t=>{c[e]=t,n(a)}),(t=>{c[o]=t,n(a)}));var c={};return c[t]=t=>t(a),c}}var d={};return d[t]=t=>{},d[e]=r,d})))(r);var c=()=>s.map((t=>{if(t[o])throw t[o];return t[e]})),u=new Promise((e=>{(a=()=>e(c)).r=0;var o=t=>t!==d&&!l.has(t)&&(l.add(t),t&&!t.d&&(a.r++,t.push(a)));s.map((e=>e[t](o)))}));return a.r?u:c()}),(t=>(t?i(m[o]=t):u(p),n(d)))),d&&d.d<0&&(d.d=0)},c(217)})();